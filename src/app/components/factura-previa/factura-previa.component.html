<div class="max-w-xl mx-auto p-4 border rounded-lg shadow">
  <h3 class="text-xl font-semibold mb-3">Factura previa</h3>

  <div *ngIf="cart.getItems().length === 0" class="text-gray-500">
    No hay productos en el carrito.
  </div>

  <ul *ngIf="cart.getItems().length > 0" class="space-y-2 mb-3">
    <li *ngFor="let it of cart.getItems()" class="flex justify-between">
      <span>{{ it.nombre }} Ã— {{ it.cantidad }}</span>
      <span>{{ (it.precio * it.cantidad) | currency:'USD':'symbol':'1.2-2' }}</span>
    </li>
  </ul>

  <div class="border-t pt-2 space-y-1" *ngIf="cart.getItems().length > 0">
    <div class="flex justify-between">
      <span>Subtotal</span>
      <strong>{{ cart.getSubtotal() | currency:'USD':'symbol':'1.2-2' }}</strong>
    </div>
    <div class="flex justify-between">
      <span>IVA ({{ (tasaIVA * 100) | number:'1.0-0' }}%)</span>
      <strong>{{ cart.getIVA(tasaIVA) | currency:'USD':'symbol':'1.2-2' }}</strong>
    </div>
    <div class="flex justify-between text-lg">
      <span>Total</span>
      <strong>{{ cart.getTotal(tasaIVA) | currency:'USD':'symbol':'1.2-2' }}</strong>
    </div>

    <button (click)="generarFactura()"
            class="mt-3 w-full bg-green-600 hover:bg-green-700 text-white font-semibold py-2 rounded-lg">
      Generar factura
    </button>
  </div>
</div>
